<!DOCTYPE html>
<head>
  <title>Profile info</title>
</head>
<body>
  <input
    type="button"
    id="getData"
    onclick="GetData()"
    value="View Profile Information"
  />
  <a href="/login">Logout</a>
  <script>
    console.log(window.location.href);
    function GetData() {
      fetch(window.location.href, {
        method: "get",
        headers: { "Content-Type": "application/x-www-formurlencoded" },
        mode: "cors",
      })
        .then((response) => {
          if (response.status !== 200) {
            console.log(
              "Looks like there was a problem. Status Code: " + response.status
            );
            return;
          }

          console.log(response.headers.get("Content-Type"));
          return response.json();
        })
        .then((myJson) => {
          console.log(JSON.stringify(myJson));
        })
        .catch((err) => {
          console.log("Fetch Error :-S", err);
        });
    }
  </script>
</body>
